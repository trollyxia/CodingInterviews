# 319-灯泡开关

难度 中等



## 题目描述

初始时有 `n` 个灯泡处于关闭状态。

对某个灯泡切换开关意味着：如果灯泡状态为关闭，那该灯泡就会被开启；而灯泡状态为开启，那该灯泡就会被关闭。

第 1 轮，每个灯泡切换一次开关。即，打开所有的灯泡。

第 2 轮，每两个灯泡切换一次开关。 即，每两个灯泡关闭一个。

第 3 轮，每三个灯泡切换一次开关。

第 `i` 轮，每 `i` 个灯泡切换一次开关。 而第 `n` 轮，你只切换最后一个灯泡的开关。

找出 `n` 轮后有多少个亮着的灯泡。

示例 1：

<img src="images/bulb.jpg" style="zoom:80%;" />
```
输入：n = 3
输出：1 
解释：
初始时, 灯泡状态 [关闭, 关闭, 关闭].
第一轮后, 灯泡状态 [开启, 开启, 开启].
第二轮后, 灯泡状态 [开启, 关闭, 开启].
第三轮后, 灯泡状态 [开启, 关闭, 关闭]. 

你应该返回 1，因为只有一个灯泡还亮着。
```
示例 2：
```
输入：n = 0
输出：0
```
示例 3：
```
输入：n = 1
输出：1
```

提示：

- `0 <= n <= 10^9`



## 思路

第`i`个灯泡的反转次数等于它所有因子（包括`1`和`i`）的个数，一开始的状态的灭的，只有反转奇数次才会变成亮的，所以只有因子个数为奇数的灯泡序号才会亮，只有平方数的因子数为奇数（比如`6=1*6,2*3`，它们的因子总是成对出现的，而`4=1*4,2*2`，只有平方数的平方根因子会只出现1次），所以最终答案等于`n`以内（包括`n`和`1`）的平方数数量，只要计算`sqrt(n)`即可。



## 代码

```c++
class Solution {
public:
    int bulbSwitch(int n) {
        return sqrt(n);
    }
};
```

