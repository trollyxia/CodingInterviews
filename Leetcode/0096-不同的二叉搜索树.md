# 96-不同的二叉搜索树

难度 中等



## 题目描述

给定一个整数 *n*，求以 *1 ... n* 为节点组成的二叉搜索树有多少种？

示例:

```
输入: 3
输出: 5
解释:
给定 n = 3, 一共有 5 种不同结构的二叉搜索树:

   1         3     3      2      1
    \       /     /      / \      \
     3     2     1      1   3      2
    /     /       \                 \
   2     1         2                 3
```



## 思路

动态规划。

假设由`n`个不同的数字组成的二叉搜索树有`G(n)`种。如果我们枚举根节点的值为 `i`，那么根据二叉搜索树的性质我们可以知道左子树的节点值的集合为`[1..i-1]`，右子树的节点值的集合为`[i+1..n]`。所以当`i`为根节点时，左子树的节点个数位`i-1`个，右子树节点个数为`n-i`个。

所以以`1`为根的二叉搜索树有`G(0)G(n-1)`个，以`2`为根的二叉搜索树有`G(1)G(n-2)`个...以`n`为根的二叉搜索树有`G(n-1)G(0)`个。

所以动态规划的状态转移方程为`G(n) = G(0)G(n-1) + G(1)G(n-2) + ... + G(n-1)G(0)`。



## 代码

```c++
class Solution {
public:
    int numTrees(int n) {
        vector<int> res;
        res.push_back(1);
        int i, j;
        for (i = 1; i <= n; i++) {
            int sum = 0;
            for (j = 0; j < i; j++) {
                sum += res[j] * res[i - j - 1];
            }
            res.push_back(sum);
        }
        return res[n];
    }
};
```

