# 002-替换空格



## 题目描述

请实现一个函数，将一个字符串中的每个空格替换成“%20”。例如，当字符串为We Are Happy.则经过替换之后的字符串为We%20Are%20Happy。



## 思路

最原始的方法，我们遍历一遍字符串，对字符中每一个空格，都用%20来替换， 由于用%20替换空格会导致字符串长度的增加，因此需要注意

- 从后往前遍历字符串
- 每找到一个空格，需要将`' '`后面的字符串依次后移两位，预留出%20的空间

我们的代码，主要消耗的时间在于，如果有多个空格， 那么每遇到一个空格就进行移位

其实前面的移位是没必要的，因为如果再遇到空格，那么之前的移位全是无用功

因此我们可以考虑**先遍历一遍字符串, 计数空格的数目**,

我们知道了空格的数目，其实就是知道了替换后字符串的长度，那么只需要进行一次替换就可以了

因为我们的工作变为

- 遍历一遍字符串， 统计字符出现的数目, 计算替换后的字符串长度
- 再**倒着**遍历一遍字符串，完成替换



## 代码

```c++
class Solution {
public:
	void replaceSpace(char *str,int length) {
        int i = 0;
        int count = 0;
        for (i; i < length; i++){
            if(str[i] == ' ')
                count++;
        }
        
        int newplace = length + count*2 - 1;
        for (i=length - 1; i >= 0; i--){
            if(str[i] == ' '){
                str[newplace--] = '0';
                str[newplace--] = '2';
                str[newplace--] = '%';
            }
            else str[newplace--] = str[i];
        }
	}
};
```

